# Assumptions and Limitations

This project uses synthetic data and simplified methodologies. Each assumption is documented below with its rationale and impact on interpretation.

## 1. Synthetic Data

| Aspect | Detail |
|---|---|
| **What** | All data is generated by `core/python/generate_data.py`; no real borrower information is used |
| **Scale** | 8,000 customers, 12,000 loans, ~500,000 schedule rows, ~400,000 payment rows |
| **Period** | January 2022 to January 2026 |
| **Geography** | New Zealand (regions, NZD currency, NZ-realistic demographics) |
| **Why synthetic** | Safe to share publicly; controllable risk parameters; reproducible with seed=42 |
| **Impact** | Delinquency patterns are realistic in shape but may not match actual portfolio statistics. All insights should be treated as illustrative, not diagnostic of a real portfolio. |

### Data Generation Risk Model

Payment behaviour is driven by a sigmoid function of:
- Credit score (lower = higher risk)
- Income (lower = higher risk)
- Interest rate (higher = higher risk)
- Employment type (Unemployed/Student = higher risk)
- Product risk multiplier (SME highest, Mortgage lowest)
- Channel risk multiplier (Partner highest, Branch lowest)

This creates realistic correlations between borrower quality and delinquency, but the functional form is simpler than real-world credit behaviour.

## 2. Delinquency (DPD) Calculation

| Aspect | Detail |
|---|---|
| **What** | DPD buckets are derived from a missed-installment proxy, not actual calendar days past due |
| **Method** | `missed_installments = cumulative_arrears / average_installment_amount` |
| **Mapping** | <1 missed = DPD_1_29, 1-2 missed = DPD_30_59, 2-3 missed = DPD_60_89, 3+ missed = DPD_90_PLUS |
| **Why** | True calendar-day DPD tracking requires transaction-level cash allocation logic (FIFO/LIFO) that is complex to implement in a demo |
| **Impact** | Bucket boundaries are approximate. Loans near bucket thresholds may be classified differently than a production system would classify them. Trends and segment comparisons remain valid. |

## 3. End-of-Period (EOP) Balance

| Aspect | Detail |
|---|---|
| **What** | EOP balance is calculated as `original_principal - cumulative_scheduled_principal` |
| **Why** | This uses the amortisation schedule as a proxy rather than tracking actual cash flows |
| **Impact** | If a borrower makes partial payments, the actual balance would be higher than this proxy (because less principal is retired). For performing loans the proxy is accurate. For delinquent loans, balance may be understated. |

## 4. Commercial Metric Simplifications

| Assumption | Value Used | Production Alternative |
|---|---|---|
| **Interest income** | EOP Balance x APR / 12 | General ledger accrual accounting |
| **Funding cost rate** | Flat 5.5% annual | Treasury fund transfer pricing (FTP) varying by product, term, rate type |
| **PD proxy** | DPD-bucket-based mapping (1% to 55%) | Regulatory or internal PD model |
| **LGD** | Fixed 55% blended | Collateral-adjusted LGD model with recovery history |
| **EAD** | Current EOP balance | Modelled EAD including prepayment and drawdown assumptions |

**Impact:** Absolute dollar amounts (NII, expected loss, RAR) should not be taken at face value. Relative comparisons across segments and trends over time are meaningful and are the intended use.

## 5. Risk Model Simplifications

| Assumption | Detail | Impact |
|---|---|---|
| **Algorithm** | Logistic regression | May underfit non-linear interactions; production models typically use gradient boosting |
| **No macro variables** | Model uses only borrower and loan features | Cannot anticipate systemic deterioration from economic downturns |
| **Random train/test split** | 75/25 split without temporal ordering | Potential data leakage across time; production should use walk-forward validation |
| **Single threshold** | Default 0.5 for classification metrics | Threshold should be calibrated to collections capacity and cost structure |
| **No model monitoring** | Scores are generated once; no drift detection | Production models require ongoing PSI and performance monitoring |

## 6. Power BI Measures

DAX measures in `measures_dax.md` are templates. They assume:
- DirectQuery or Import connection to the PostgreSQL views
- `mart_portfolio_snapshot_v2` is the primary fact table
- Date slicing is done on `month_end` (not a full date dimension)

For production dashboards, a proper date dimension table and row-level security would be added.

## Summary

These assumptions are standard for a portfolio analytics demonstration. The project is designed for:

- **Segment comparison** (which products/channels perform better or worse)
- **Trend analysis** (is delinquency improving or deteriorating)
- **Methodology demonstration** (showing understanding of DPD, migration, vintage, NII, RAR, risk scoring)

It is not designed for regulatory reporting, IFRS 9 provisioning, or production credit decisioning without the improvements noted above.
